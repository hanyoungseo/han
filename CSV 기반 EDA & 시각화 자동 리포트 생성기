import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import sys
import os

def load_data(path):
    if not os.path.exists(path):
        raise FileNotFoundError(f"File not found: {path}")
    return pd.read_csv(path)

def summary_report(df):
    print("\n===== Îç∞Ïù¥ÌÑ∞ ÏöîÏïΩ =====")
    print(df.info())
    print("\n===== Í∏∞Î≥∏ ÌÜµÍ≥Ñ =====")
    print(df.describe())

def plot_numeric_distribution(df, save_dir="plots"):
    os.makedirs(save_dir, exist_ok=True)
    numeric_cols = df.select_dtypes(include=["int64", "float64"]).columns
    
    for col in numeric_cols:
        plt.figure(figsize=(6, 4))
        sns.histplot(df[col], kde=True)
        plt.title(f"Distribution of {col}")
        plt.tight_layout()
        plt.savefig(f"{save_dir}/{col}.png")
        plt.close()

def main():
    if len(sys.argv) < 2:
        print("Usage: python eda_report.py dataset.csv")
        return
    data_path = sys.argv[1]
    df = load_data(data_path)
    summary_report(df)
    plot_numeric_distribution(df)
    print("\nüìä Î∂ÑÏÑù ÏôÑÎ£å! Í∑∏ÎûòÌîÑÎäî plots/ Ìè¥ÎçîÏóê Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.")

if __name__ == "__main__":
    main()
